/*!
 * NETEYE Activity Indicator jQuery Plugin
 *
 * Copyright (c) 2010 NETEYE GmbH
 * Licensed under the MIT license
 *
 * Author: Felix Gnass [fgnass at neteye dot de]
 * Version: 1.0.0
 */
(function(a){a.fn.activity=function(h){this.each(function(){var i=a(this);
var k=i.data("activity");if(k){clearInterval(k.data("interval"));k.remove();i.removeData("activity");}if(h!==false){h=a.extend({color:i.css("color")},a.fn.activity.defaults,h);
k=e(i,h).css("position","absolute").prependTo(h.outside?"body":i);var n=i.outerHeight()-k.height();var m=i.outerWidth()-k.width();var l={top:h.valign=="top"?h.padding:h.valign=="bottom"?n-h.padding:Math.floor(n/2),left:h.align=="left"?h.padding:h.align=="right"?m-h.padding:Math.floor(m/2)};
var j=i.offset();if(h.outside){k.css({top:j.top+"px",left:j.left+"px"});}else{l.top-=k.offset().top-j.top;l.left-=k.offset().left-j.left;}k.css({marginTop:l.top+"px",marginLeft:l.left+"px"});
d(k,h.segments,Math.round(10/h.speed)/10);i.data("activity",k);}});return this;};a.fn.activity.defaults={segments:12,space:3,length:7,width:4,speed:1.2,align:"center",valign:"center",padding:4};
a.fn.activity.getOpacity=function(h,j){var l=h.steps||h.segments-1;var k=h.opacity!==undefined?h.opacity:1/l;return 1-Math.min(j,l)*(1-k)/l;};var e=function(){return a("<div>").addClass("busy");
};var d=function(){};function c(j,h){var i=document.createElementNS("http://www.w3.org/2000/svg",j||"svg");if(h){a.each(h,function(l,m){i.setAttributeNS(null,l,m);
});}return a(i);}if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect){e=function(o,n){var k=n.width*2+n.space;
var h=(k+n.length+Math.ceil(n.width/2)+1);var l=c().width(h*2).height(h*2);var j=c("g",{"stroke-width":n.width,"stroke-linecap":"round",stroke:n.color}).appendTo(c("g",{transform:"translate("+h+","+h+")"}).appendTo(l));
for(var m=0;m<n.segments;m++){j.append(c("line",{x1:0,y1:k,x2:0,y2:k+n.length,transform:"rotate("+(360/n.segments*m)+", 0, 0)",opacity:a.fn.activity.getOpacity(n,m)}));
}return a("<div>").append(l).width(2*h).height(2*h);};if(document.createElement("div").style.WebkitAnimationName!==undefined){var b={};d=function(n,k,h){if(!b[k]){var j="spin"+k;
var m="@-webkit-keyframes "+j+" {";for(var q=0;q<k;q++){var o=Math.round(100000/k*q)/1000;var l=Math.round(100000/k*(q+1)-1)/1000;var p="% { -webkit-transform:rotate("+Math.round(360/k*q)+"deg); }\n";
m+=o+p+l+p;}m+="100% { -webkit-transform:rotate(100deg); }\n}";document.styleSheets[0].insertRule(m);b[k]=j;}n.css("-webkit-animation",b[k]+" "+h+"s linear infinite");
};}else{d=function(j,l,i){var k=0;var h=j.find("g g").get(0);j.data("interval",setInterval(function(){h.setAttributeNS(null,"transform","rotate("+(++k%l*(360/l))+")");
},i*1000/l));};}}else{var g=a("<shape>").css("behavior","url(#default#VML)").appendTo("body");if(g.get(0).adj){var f=document.createStyleSheet();a.each(["group","shape","stroke"],function(){f.addRule(this,"behavior:url(#default#VML);");
});e=function(p,n){var j=n.width*2+n.space;var h=(j+n.length+Math.ceil(n.width/2)+1);var q=h*2;var l=-Math.ceil(q/2);var k=a("<group>",{coordsize:q+" "+q,coordorigin:l+" "+l}).css({top:l,left:l,width:q,height:q});
for(var m=0;m<n.segments;m++){k.append(a("<shape>",{path:"m "+j+",0  l "+(j+n.length)+",0"}).css({width:q,height:q,rotation:(360/n.segments*m)+"deg"}).append(a("<stroke>",{color:n.color,weight:n.width+"px",endcap:"round",opacity:a.fn.activity.getOpacity(n,m)})));
}return a("<group>",{coordsize:q+" "+q}).css({width:q,height:q,overflow:"hidden"}).append(k);};d=function(j,l,i){var k=0;var h=j.get(0);j.data("interval",setInterval(function(){h.style.rotation=++k%l*(360/l);
},i*1000/l));};}a(g).remove();}})(jQuery);
/*!
 * NETEYE Activity Indicator jQuery Plugin
 *
 * Copyright (c) 2010 NETEYE GmbH
 * Licensed under the MIT license
 *
 * Author: Felix Gnass [fgnass at neteye dot de]
 * Version: 1.0.0
 */
(function(a){a.fn.activity=function(h){this.each(function(){var i=a(this);
var k=i.data("activity");if(k){clearInterval(k.data("interval"));k.remove();i.removeData("activity");}if(h!==false){h=a.extend({color:i.css("color")},a.fn.activity.defaults,h);
k=e(i,h).css("position","absolute").prependTo(h.outside?"body":i);var l={top:Math.floor((i.outerHeight()-k.height())/2),left:Math.floor((i.outerWidth()-k.width())/2)};
var j=i.offset();if(h.outside){k.css({top:j.top+"px",left:j.left+"px"});}else{l.top-=k.offset().top-j.top;l.left-=k.offset().left-j.left;}k.css({marginTop:l.top+"px",marginLeft:l.left+"px"});
d(k,h.segments,Math.round(10/h.speed)/10);i.data("activity",k);}});return this;};a.fn.activity.defaults={segments:12,space:3,length:7,width:4,speed:1.2};
a.fn.activity.getOpacity=function(h,j){var l=h.steps||h.segments-1;var k=h.opacity!==undefined?h.opacity:1/l;return 1-Math.min(j,l)*(1-k)/l;};var e=function(){return a("<div>").addClass("busy");
};var d=function(){};function c(j,h){var i=document.createElementNS("http://www.w3.org/2000/svg",j||"svg");if(h){a.each(h,function(l,m){i.setAttributeNS(null,l,m);
});}return a(i);}if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect){e=function(o,n){var k=n.width*2+n.space;
var h=(k+n.length+Math.ceil(n.width/2)+1);var l=c().width(h*2).height(h*2);var j=c("g",{"stroke-width":n.width,"stroke-linecap":"round",stroke:n.color}).appendTo(c("g",{transform:"translate("+h+","+h+")"}).appendTo(l));
for(var m=0;m<n.segments;m++){j.append(c("line",{x1:0,y1:k,x2:0,y2:k+n.length,transform:"rotate("+(360/n.segments*m)+", 0, 0)",opacity:a.fn.activity.getOpacity(n,m)}));
}return a("<div>").append(l).width(2*h).height(2*h);};if(document.createElement("div").style.WebkitAnimationName!==undefined){var b={};d=function(n,k,h){if(!b[k]){var j="spin"+k;
var m="@-webkit-keyframes "+j+" {";for(var q=0;q<k;q++){var o=Math.round(100000/k*q)/1000;var l=Math.round(100000/k*(q+1)-1)/1000;var p="% { -webkit-transform:rotate("+Math.round(360/k*q)+"deg); }\n";
m+=o+p+l+p;}m+="100% { -webkit-transform:rotate(100deg); }\n}";document.styleSheets[0].insertRule(m);b[k]=j;}n.css("-webkit-animation",b[k]+" "+h+"s linear infinite");
};}else{d=function(j,l,i){var k=0;var h=j.find("g g").get(0);j.data("interval",setInterval(function(){h.setAttributeNS(null,"transform","rotate("+(++k%l*(360/l))+")");
},i*1000/l));};}}else{var g=a("<shape>").css("behavior","url(#default#VML)").appendTo("body");if(g.get(0).adj){var f=document.createStyleSheet();a.each(["group","shape","stroke"],function(){f.addRule(this,"behavior:url(#default#VML);");
});e=function(p,n){var j=n.width*2+n.space;var h=(j+n.length+Math.ceil(n.width/2)+1);var q=h*2;var l=-Math.ceil(q/2);var k=a("<group>",{coordsize:q+" "+q,coordorigin:l+" "+l}).css({top:l,left:l,width:q,height:q});
for(var m=0;m<n.segments;m++){k.append(a("<shape>",{path:"m "+j+",0  l "+(j+n.length)+",0"}).css({width:q,height:q,rotation:(360/n.segments*m)+"deg"}).append(a("<stroke>",{color:n.color,weight:n.width+"px",endcap:"round",opacity:a.fn.activity.getOpacity(n,m)})));
}return a("<group>",{coordsize:q+" "+q}).css({width:q,height:q,overflow:"hidden"}).append(k);};d=function(j,l,i){var k=0;var h=j.get(0);j.data("interval",setInterval(function(){h.style.rotation=++k%l*(360/l);
},i*1000/l));};}a(g).remove();}})(jQuery);
/*!
 * NETEYE Transform & Transition Plugin
 *
 * Copyright (c) 2010 NETEYE GmbH
 * Licensed under the MIT license
 *
 * Author: Felix Gnass [fgnass at neteye dot de]
 * Version: 1.0.0
 */
(function(d){var b=(function(){var g=["Webkit","Moz","O"];
var h=document.createElement("div").style;function j(l){var k="";if(h[l]!==undefined){return l;}d.each(g,function(){var m=this+l.charAt(0).toUpperCase()+l.substring(1);
if(h[m]!==undefined){k=m;return false;}});return k;}var i={};d.each(["transitionDuration","transitionProperty","transform","transformOrigin"],function(){i[this]=j(this);
});return i;})();var a=(function(){var h=document.createElement("div").style;try{h[b.transform]="translate3d(0,0,0)";return h[b.transform].length>0;}catch(g){return false;
}})();function c(h,i){var g=h.data("transform");if(!g){g=new f();h.data("transform",g);}if(i!==undefined){if(i===false||i.reset){g.reset();}else{g.exec(i);
}}return g;}function e(i,g){function h(k,j){return k.replace(/\{(\w+)\}/g,function(m,l){return j[l];});}this.reset=function(){d.extend(this,g);};this.format=function(){return h(i,this);
};this.reset();}function f(){var g={translate:new e("translate({x}px,{y}px)",{x:0,y:0}),scale:new e("scale({x},{y})",{x:1,y:1}),rotate:new e("rotate({deg}deg)",{deg:0})};
if(a){g.translate=new e("translate3d({x}px,{y}px,0px)",{x:0,y:0});g.scale=new e("scale3d({x},{y},1)",{x:1,y:1});}var h={rotate:function(i){g.rotate.deg=i;
},rotateBy:function(i){g.rotate.deg+=i;},scale:function(i){if(typeof i=="number"){i={x:i,y:i};}g.scale.x=i.x;g.scale.y=i.y;},scaleBy:function(i){if(typeof i=="number"){i={x:i,y:i};
}g.scale.x*=i.x;g.scale.y*=i.y;},translate:function(j){var i=g.translate;if(!j){j={x:0,y:0};}i.x=(j.x!==undefined)?parseInt(j.x,10):i.x;i.y=(j.y!==undefined)?parseInt(j.y,10):i.y;
},translateBy:function(j){var i=g.translate;i.x+=parseInt(j.x,10)||0;i.y+=parseInt(j.y,10)||0;}};this.fn=g;this.exec=function(j){for(var i in j){if(h[i]){h[i](j[i]);
}}};this.reset=function(){d.each(g,function(){this.reset();});};this.format=function(){var i="";d.each(g,function(j,l){i+=l.format()+" ";});return i;};
}d.fn.transform=function(g){var h=this;if(d.fn.transform.supported){this.each(function(){var i=d(this);var j=c(i,g);if(g===undefined){h=j.fn;return false;
}var k=g&&g.origin?g.origin:"0 0";i.css(b.transitionDuration,"0s").css(b.transformOrigin,k).css(b.transform,j.format());});}return h;};d.fn.transform.supported=!!b.transform;
d.fn.transition=function(i,g){g=d.extend({delay:0,duration:0.4},g);var h="";d.each(i,function(j,l){h+=j+",";});this.each(function(){var j=d(this);if(!d.fn.transition.supported){j.css(i);
if(g.onFinish){d.proxy(g.onFinish,j)();}return;}var l=j.css(b.transitionDuration);function k(){j.css(b.transitionProperty,h).css(b.transitionDuration,g.duration+"s");
j.css(i);if(g.duration>0){j.one("webkitTransitionEnd oTransitionEnd transitionend",m);}else{setTimeout(m,1);}}function m(){j.css(b.transitionDuration,l);
if(g.onFinish){d.proxy(g.onFinish,j)();}}if(g.delay>0){setTimeout(k,g.delay);}else{k();}});return this;};d.fn.transition.supported=!!b.transitionProperty;
d.fn.transformTransition=function(g){g=d.extend({origin:"0 0",css:{}},g);var h=g.css;if(d.fn.transform.supported){h[b.transform]=c(this,g).format();this.css(b.transformOrigin,g.origin);
}return this.transition(h,g);};})(jQuery);
/*!
 * NETEYE Touch-Gallery jQuery Plugin
 *
 * Copyright (c) 2010 NETEYE GmbH
 * Licensed under the MIT license
 *
 * Author: Felix Gnass [fgnass at neteye dot de]
 * Version: 1.0.0
 */
(function(f){var d=/Mobile.*Safari/.test(navigator.userAgent);
f.fn.touchGallery=function(y){y=f.extend({},f.fn.touchGallery.defaults,y);var z=this;this.bind("click",function(B){B.preventDefault();B=B||window.event;
B.stopPropagation();if(B.stopPropagation){B.stopPropagation();}else{B.cancelBubble=false;}var A=f(this);if(!A.is(".open")){z.addClass("open");w(z,A,y);
}return false;});return this;};f.fn.touchGallery.defaults={getSource:function(){return this.href;}};function w(B,A,z){A.activity();var y=new Image();y.onload=function(){A.activity(false);
c(B,B.index(A),this,z.getSource);};y.src=f.proxy(z.getSource,A.get(0))();}function c(C,D,z,y){var A=m(h(f('<div id="galleryViewport">').css({position:"fixed",top:0,left:0,overflow:"hidden"}).transform(false).appendTo("body")));
var B=f('<div id="galleryStripe">').css({position:"absolute",height:"100%",top:0,left:(-D*b())+"px"}).width(C.length*b()).transform(false).appendTo(A);
e(B,b(),D,C.length-1);f(window).bind("orientationchange.gallery",function(){m(A);B.find("img").each(l);});C.each(function(H){var I=f("<div>").addClass("galleryPage").css({display:"block",position:"absolute",left:H*b()+"px",overflow:"hidden",height:"100%"}).width(b()).data("thumbs",C).data("thumb",f(this)).transform(false).appendTo(B);
if(H==D){var G=f(z).css({position:"absolute",display:"block"}).transform(false);i(l(D,z,G)).appendTo(I);p(f(this),G,function(){B.addClass("ready");a(D);
});v(A);}else{I.activity({color:"#fff"});var F=new Image();var E=f.proxy(y,this)();I.one("loadImage",function(){F.src=E;});F.onload=function(){var J=f(this).css({position:"absolute",display:"block"}).transform(false);
l(H,this,J).appendTo(I.activity(false));I.trigger("loaded");};}});}function g(y){if(y.is(".ready")&&!y.is(".panning")){f("#galleryShade").remove();var A=y.find(".galleryPage").eq(y.data("galleryIndex"));
A.data("thumbs").removeClass("open");var z=A.data("thumb");y.add(window).add(document).unbind(".gallery");t(A.find("img"),z,function(){x(z).transform(false);
f("#galleryViewport").remove();});}}function v(B,y){var z=f('<div id="galleryShade">').css({top:0,left:0,background:"#000",opacity:0});if(d){var A=Math.max(screen.width,screen.height)*(window.devicePixelRatio||1)+Math.max(o(),u())+100;
z.css({position:"absolute"}).width(A).height(A);}else{z.css({position:"fixed",width:"100%",height:"100%"});}z.insertBefore(B).transform(false).transition({opacity:1},{delay:200,duration:0.8,onFinish:y});
}function l(A,y,z){z=z||f(y);if(!y.naturalWidth){y.naturalWidth=y.width;y.naturalHeight=y.height;}var B=Math.min(n(),Math.min(s()/y.naturalHeight,b()/y.naturalWidth));
z.css({top:Math.round((s()-y.naturalHeight*B)/2)+"px",left:Math.round((b()-y.naturalWidth*B)/2)+"px"}).width(Math.round(y.naturalWidth*B));return z;}function p(B,D,y){var E=k(D);
var z=k(B);var F=Math.max(z.width/D.width(),z.height/D.height());var C=d?0:o();var A=d?0:u();D.transform({translate:{x:z.left-E.left-C-Math.round((E.width*F-z.width)/2),y:z.top-E.top-A-Math.round((E.height*F-z.height)/2)},scale:F});
setTimeout(function(){x(D);i(B);D.transformTransition({reset:true,onFinish:y});},1);}function t(z,F,D){if(z.length===0||!f.fn.transition.supported){if(D){D();
}return;}var C=k(z);var G=k(F);var y=Math.min(C.height*G.width/G.height,C.width);var E=Math.min(C.width*G.height/G.width,C.height);var B=Math.max(G.width/y,G.height/E);
var A=f("<div>").css({overflow:"hidden",position:"absolute",width:y+"px",height:E+"px",top:u()+Math.round((s()-E)/2)+"px",left:o()+Math.round((b()-y)/2)+"px"}).appendTo("body").append(z.css({top:1-Math.floor((C.height-E)/2)+"px",left:-Math.floor((C.width-y)/2)+"px"})).transform(false);
C=k(A);A.transformTransition({translate:{x:G.left-C.left-Math.round((y*B-G.width)/2),y:G.top-C.top-Math.round((E*B-G.height)/2)},scale:B,onFinish:function(){D();
A.remove();}});}function q(y){return f("#galleryStripe .galleryPage").eq(y);}function r(y){return q(y).data("thumb");}function a(z){var A=q(z);function y(){q(z-1).add(q(z+1)).trigger("loadImage");
}if(A.find("img").length>0){y();}else{A.one("loaded",y);}}function e(B,D,C,E){var z=n();var A=parseInt(B.css("left"),10);B.data("galleryIndex",C);function y(H){var G=B.data("galleryIndex");
x(r(G));G=Math.max(0,Math.min(G+H,E));B.data("galleryIndex",G);i(r(G));a(G);if(f.fn.transform.supported){var F=-G*D-A;if(F!=B.transform().translate.x){B.addClass("panning").transformTransition({translate:{x:F},onFinish:function(){this.removeClass("panning");
}});}}else{B.css("left",-G*D+"px");}}f(document).bind("keydown.gallery",function(F){if(F.keyCode==37){B.trigger("prev");}else{if(F.keyCode==39){B.trigger("next");
}}if(F.keyCode==27||F.keyCode==32){B.trigger("close");}return false;});B.bind("touchstart",function(){f(this).data("pan",{startX:event.targetTouches[0].screenX,lastX:event.targetTouches[0].screenX,startTime:new Date().getTime(),startOffset:f(this).transform().translate.x,distance:function(){return Math.round(z*(this.startX-this.lastX));
},delta:function(){var F=event.targetTouches[0].screenX;this.dir=this.lastX>F?1:-1;var G=Math.round(z*(this.lastX-F));this.lastX=F;return G;},duration:function(){return new Date().getTime()-this.startTime;
}});return false;}).bind("touchmove",function(){var F=f(this).data("pan");f(this).transform({translateBy:{x:-F.delta()}});return false;}).bind("touchend",function(){var F=f(this).data("pan");
if(F.distance()===0&&F.duration()<500){f(event.target).trigger("click");}else{y(F.dir);}return false;}).bind("prev",function(){y(-1);}).bind("next",function(){y(1);
}).bind("click close",function(){g(B);});}function m(y){if(d){y.css({top:u()+"px",left:o()+"px"});}return y.width(b()).height(s());}function n(){return b()/document.documentElement.clientWidth;
}function j(z,A){if(window[z]!==undefined){return window[z];}var y=document.documentElement;if(y&&y[A]){return y[A];}return document.body[A];}function u(){return j("pageYOffset","scrollTop");
}function o(){return j("pageXOffset","scrollLeft");}function b(){return j("innerWidth","clientWidth");}function s(){return j("innerHeight","clientHeight");
}function x(y){return y.css("visibility","visible");}function i(y){return y.css("visibility","hidden");}function k(y){var z=y.get(0);if(z&&z.getBoundingClientRect){return z.getBoundingClientRect();
}return f.extend({width:y.width(),height:y.height()},y.offset());}function h(y){return y.bind("touchstart",function(){return false;});}})(jQuery);