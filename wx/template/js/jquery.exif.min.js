(function(){var a=function(e,h,i){var d=e;var g=h||0;var f=0;this.getRawData=function(){return d;};if(typeof e=="string"){f=i||d.length;this.getByteAt=function(j){return d.charCodeAt(j+g)&255;
};}else{if(typeof e=="unknown"){f=i||IEBinary_getLength(d);this.getByteAt=function(j){return IEBinary_getByteAt(d,j+g);};}}this.getLength=function(){return f;
};this.getSByteAt=function(k){var j=this.getByteAt(k);if(j>127){return j-256;}else{return j;}};this.getShortAt=function(k,l){var j=l?(this.getByteAt(k)<<8)+this.getByteAt(k+1):(this.getByteAt(k+1)<<8)+this.getByteAt(k);
if(j<0){j+=65536;}return j;};this.getSShortAt=function(j,k){var l=this.getShortAt(j,k);if(l>32767){return l-65536;}else{return l;}};this.getLongAt=function(o,p){var n=this.getByteAt(o),k=this.getByteAt(o+1),l=this.getByteAt(o+2),m=this.getByteAt(o+3);
var j=p?(((((n<<8)+k)<<8)+l)<<8)+m:(((((m<<8)+l)<<8)+k)<<8)+n;if(j<0){j+=4294967296;}return j;};this.getSLongAt=function(k,l){var j=this.getLongAt(k,l);
if(j>2147483647){return j-4294967296;}else{return j;}};this.getStringAt=function(n,m){var o=[];for(var l=n,k=0;l<n+m;l++,k++){o[k]=String.fromCharCode(this.getByteAt(l));
}return o.join("");};this.getCharAt=function(j){return String.fromCharCode(this.getByteAt(j));};this.toBase64=function(){return window.btoa(d);};this.fromBase64=function(j){d=window.atob(j);
};};var c=(function(){function f(){var g=null;if(window.XMLHttpRequest){g=new XMLHttpRequest();}else{if(window.ActiveXObject){g=new ActiveXObject("Microsoft.XMLHTTP");
}}return g;}function d(h,j,i){var g=f();if(g){if(j){if(typeof(g.onload)!="undefined"){g.onload=function(){if(g.status=="200"){j(this);}else{if(i){i();}}g=null;
};}else{g.onreadystatechange=function(){if(g.readyState==4){if(g.status=="200"){j(this);}else{if(i){i();}}g=null;}};}}g.open("HEAD",h,true);g.send(null);
}else{if(i){i();}}}function e(i,o,m,g,k,h){var j=f();if(j){var l=0;if(g&&!k){l=g[0];}var n=0;if(g){n=g[1]-g[0]+1;}if(o){if(typeof(j.onload)!="undefined"){j.onload=function(){if(j.status=="200"||j.status=="206"||j.status=="0"){this.binaryResponse=new a(this.responseText,l,n);
this.fileSize=h||this.getResponseHeader("Content-Length");o(this);}else{if(m){m();}}j=null;};}else{j.onreadystatechange=function(){if(j.readyState==4){if(j.status=="200"||j.status=="206"||j.status=="0"){this.binaryResponse=new a(j.responseBody,l,n);
this.fileSize=h||this.getResponseHeader("Content-Length");o(this);}else{if(m){m();}}j=null;}};}}j.open("GET",i,true);if(j.overrideMimeType){j.overrideMimeType("text/plain; charset=x-user-defined");
}if(g&&k){j.setRequestHeader("Range","bytes="+g[0]+"-"+g[1]);}j.setRequestHeader("If-Modified-Since","Sat, 1 Jan 1970 00:00:00 GMT");j.send(null);}else{if(m){m();
}}}return function(g,i,h,j){if(j){d(g,function(k){var l=parseInt(k.getResponseHeader("Content-Length"),10);var o=k.getResponseHeader("Accept-Ranges");var n,m;
n=j[0];if(j[0]<0){n+=l;}m=n+j[1]-1;e(g,i,h,[n,m],(o=="bytes"),l);});}else{e(g,i,h);}};}());document.write("<script type='text/vbscript'>\r\nFunction IEBinary_getByteAt(strBinary, iOffset)\r\n	IEBinary_getByteAt = AscB(MidB(strBinary,iOffset+1,1))\r\nEnd Function\r\nFunction IEBinary_getLength(strBinary)\r\n	IEBinary_getLength = LenB(strBinary)\r\nEnd Function\r\n<\/script>\r\n");
var b={};(function(){var j=false;b.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"};
b.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"};
b.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"};
b.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};
function l(o,p,n){if(o.addEventListener){o.addEventListener(p,n,false);}else{if(o.attachEvent){o.attachEvent("on"+p,n);}}}function m(n){return !!(n.exifdata);
}function k(o,n){c(o.src,function(q){console.log("BINARY",q.binaryResponse);var p=i(q.binaryResponse);o.exifdata=p||{};if(n){n();}});}function e(r,q){var p=atob(r.src.split(",")[1]);
var o=new a(p,0,p.length);var n=i(o);r.exifdata=n||{};if(q){q();}}function i(q){var p=[];if(q.getByteAt(0)!=255||q.getByteAt(1)!=216){return false;}var r=2;
var o=q.getLength();while(r<o){if(q.getByteAt(r)!=255){if(j){console.log("Not a valid marker at offset "+r+", found: "+q.getByteAt(r));}return false;}var n=q.getByteAt(r+1);
if(n==22400){if(j){console.log("Found 0xFFE1 marker");}return g(q,r+4,q.getShortAt(r+2,true)-2);r+=2+q.getShortAt(r+2,true);}else{if(n==225){if(j){console.log("Found 0xFFE1 marker");
}return g(q,r+4,q.getShortAt(r+2,true)-2);}else{r+=2+q.getShortAt(r+2,true);}}}}function h(n,p,o,s,v){var q=n.getShortAt(o,v);var t={};for(var u=0;u<q;
u++){var r=o+u*12+2;var w=s[n.getShortAt(r,v)];if(!w&&j){console.log("Unknown tag: "+n.getShortAt(r,v));}t[w]=d(n,r,p,o,v);}return t;}function d(o,v,t,p,y){var x=o.getShortAt(v+2,y);
var r=o.getLongAt(v+4,y);var w=o.getLongAt(v+8,y)+t;switch(x){case 1:case 7:if(r==1){return o.getByteAt(v+8,y);}else{var q=r>4?w:(v+8);var z=[];for(var u=0;
u<r;u++){z[u]=o.getByteAt(q+u);}return z;}break;case 2:var s=r>4?w:(v+8);return o.getStringAt(s,r-1);break;case 3:if(r==1){return o.getShortAt(v+8,y);}else{var q=r>2?w:(v+8);
var z=[];for(var u=0;u<r;u++){z[u]=o.getShortAt(q+2*u,y);}return z;}break;case 4:if(r==1){return o.getLongAt(v+8,y);}else{var z=[];for(var u=0;u<r;u++){z[u]=o.getLongAt(w+4*u,y);
}return z;}break;case 5:if(r==1){return o.getLongAt(w,y)/o.getLongAt(w+4,y);}else{var z=[];for(var u=0;u<r;u++){z[u]=o.getLongAt(w+8*u,y)/o.getLongAt(w+4+8*u,y);
}return z;}break;case 9:if(r==1){return o.getSLongAt(v+8,y);}else{var z=[];for(var u=0;u<r;u++){z[u]=o.getSLongAt(w+4*u,y);}return z;}break;case 10:if(r==1){return o.getSLongAt(w,y)/o.getSLongAt(w+4,y);
}else{var z=[];for(var u=0;u<r;u++){z[u]=o.getSLongAt(w+8*u,y)/o.getSLongAt(w+4+8*u,y);}return z;}break;}}function g(n,q,p){if(n.getStringAt(q,4)!="Exif"){if(j){console.log("Not valid EXIF data! "+n.getStringAt(q,4));
}return false;}var t;var u=q+6;if(n.getShortAt(u)==18761){t=false;}else{if(n.getShortAt(u)==19789){t=true;}else{if(j){console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)");
}return false;}}if(n.getShortAt(u+2,t)!=42){if(j){console.log("Not valid TIFF data! (no 0x002A)");}return false;}if(n.getLongAt(u+4,t)!=8){if(j){console.log("Not valid TIFF data! (First offset not 8)",n.getShortAt(u+4,t));
}return false;}var s=h(n,u,u+8,b.TiffTags,t);if(s.ExifIFDPointer){var o=h(n,u,u+s.ExifIFDPointer,b.Tags,t);for(var v in o){switch(v){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":o[v]=b.StringValues[v][o[v]];
break;case"ExifVersion":case"FlashpixVersion":o[v]=String.fromCharCode(o[v][0],o[v][1],o[v][2],o[v][3]);break;case"ComponentsConfiguration":o[v]=b.StringValues.Components[o[v][0]]+b.StringValues.Components[o[v][1]]+b.StringValues.Components[o[v][2]]+b.StringValues.Components[o[v][3]];
break;}s[v]=o[v];}}if(s.GPSInfoIFDPointer){var r=h(n,u,u+s.GPSInfoIFDPointer,b.GPSTags,t);for(var v in r){switch(v){case"GPSVersionID":r[v]=r[v][0]+"."+r[v][1]+"."+r[v][2]+"."+r[v][3];
break;}s[v]=r[v];}}return s;}b.getData=function(o,n){if(!o.complete){return false;}if(!m(o)){k(o,n);}else{if(n){n();}}return true;};b.getDataFromDataURL=function(o,n){if(!o.complete){return false;
}if(!m(o)){e(o,n);}else{if(n){n();}}return true;};b.getTag=function(o,n){if(!m(o)){return;}return o.exifdata[n];};b.getAllTags=function(q){if(!m(q)){return{};
}var n=q.exifdata;var p={};for(var o in n){if(n.hasOwnProperty(o)){p[o]=n[o];}}return p;};b.pretty=function(p){if(!m(p)){return"";}var n=p.exifdata;var q="";
for(var o in n){if(n.hasOwnProperty(o)){if(typeof n[o]=="object"){q+=o+" : ["+n[o].length+" values]\r\n";}else{q+=o+" : "+n[o]+"\r\n";}}}return q;};b.readFromBinaryFile=function(n){return i(n);
};function f(){var o=document.getElementsByTagName("img");for(var n=0;n<o.length;n++){if(o[n].getAttribute("exif")=="true"){if(!o[n].complete){l(o[n],"load",function(){b.getData(this);
});}else{b.getData(o[n]);}}}}jQuery(document).ready(f);jQuery.fn.exifLoad=function(n){return this.each(function(){b.getData(this,n);});};jQuery.fn.exifLoadFromDataURL=function(n){return this.each(function(){b.getDataFromDataURL(this,n);
return true;});};jQuery.fn.exif=function(o){var n=[];this.each(function(){n.push(b.getTag(this,o));});return n;};jQuery.fn.exifAll=function(){var n=[];
this.each(function(){n.push(b.getAllTags(this));});return n;};jQuery.fn.exifPretty=function(){var n=[];this.each(function(){n.push(b.pretty(this));});return n;
};})();})();